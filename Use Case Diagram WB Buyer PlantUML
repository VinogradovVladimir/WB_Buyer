@startuml
left to right direction

actor Покупатель as customer
actor "Сотрудник техподдержки" as support
actor "Компании-партнёры" as partner
actor Менеджер as manager
actor "Парсер магазина" as parser
actor "Логистические отделы WB" as logistics
actor "Сотрудник пункта выдачи" as delivery_staff

customer -- (Авторизация)
support -- (Авторизация)

customer -- (Найти товаров в каталоге)
(Найти товаров в каталоге) .down.> (Открыть каталог товаров) : include
(Выбрать фильтры) .up.> (Найти товаров в каталоге) : extend

customer -- (Найти товара по ссылке)
(Найти товара по ссылке) .down.> (Ввести ссылку) : include

customer -- (Добавить товара в корзину)
(Оформить заказ) .up.> (Добавить товара в корзину) : extend
(Оформить заказ) .down.> (Выбрать пункта выдачи) : include
(Оформить заказ) .down.> (Выбрать способа оплаты) : include

customer -- (Просмотреть историю заказов)
(Просмотреть статусы заказов) .right.> (Просмотреть историю заказов)  : extend

customer -- (Отменить заказ)
(Отменить заказ) .down.> (Отметить причину отмены) : include

customer -- (Просмотр страницы товара)
(Оставить отзыв на товар) .right.> (Просмотр страницы товара) : extend

customer -- (Отправить сообщение техподдержке)
support -- (Отправить сообщение клиенту)
(Отправить сообщение клиенту) .down.> (Выбрать обращение клиента) : include

customer -- (Вернуть товар)
support -- (Вернуть товар)
(Вернуть товар) .down.> (Прикрепить фотографии товара) : include
(Вернуть товар) .down.> (Выбрать и описать причину возврата) : include

support -- (Вернуть деньги за заказ клиента)
(Вернуть деньги за заказ клиента) .down.> (Рассмотреть заявку на возврат товара) : include


partner -- (Указать адрес для принятия заказов)
partner -- (Принять заказ из интернет-магазина)
(Принять заказ из интернет-магазина) .down.> (Получить информацию о ближайших доставках на адрес) : include
partner -- (Проверить заказ на соответствие и дефекты)
(Оформить возврат товара в магазин) .up.> (Проверить заказ на соответствие и дефекты) : extend
(Оформить возврат товара в магазин) .down.> (Создать форму о ошибке при доставке) : include
partner -- (Указать сроки передачи заказов в логистику WB)
partner -- (Сгенерировать qr-код каждому заказу)


manager -- (Отредактировать фильтры)
manager -- (Добавить товар в каталог)
manager -- (Добавить возможность заказа из нового магазина)
(Добавить возможность заказа из нового магазина) .down.> (Проверить магазин на соответствие требованиям) : include
manager -- (Удалить товар из каталога)
(Удалить товар из каталога) .down.> (Выбрать товар) : include
manager -- (Удалить магазин из доступных для заказа)
(Удалить магазин из доступных для заказа) .down.> (Выбрать магазин) : include
(Отредактировать фильтры) .down.> (Проверить информацию о товаре) : include
(Добавить товар в каталог) .down.> (Проверить информацию о товаре) : include
(Проверить информацию о товаре) .down.> (Скопировать информацию о товаре) : include
parser -- (Скопировать информацию о товаре)
(Скопировать информацию о товаре) .down.> (Создать форму на добавление товара в сервис) : include


logistics -- (Принять заказ от партнёра)
logistics -- (Проверить заказ на соответствие и дефекты)
(Проверить заказ на соответствие и дефекты) .down.> (Пробить qr-код заказа) : include
(Вернуть товар компании) .up.> (Проверить заказ на соответствие и дефекты) : extend
(Вернуть товар компании) .down.> (Создать форму о ошибке при доставке) : include
(Вернуть товар компании) .down.> (Запросить возмещение средств) : include
logistics -- (Указать сроки доставки заказа по РФ)


delivery_staff -- (Уведомить клиента о завершении доставки)
(Уведомить клиента о завершении доставки) .down.> (Принять заказ из доставки) : include
delivery_staff -- (Выдать заказ)
(Выдать заказ) .down.> (Пробить qr-код от клиента) : include
delivery_staff -- (Принять возврат)
(Принять возврат) .down.> (Пробить qr-код от клиента) : include

@enduml
